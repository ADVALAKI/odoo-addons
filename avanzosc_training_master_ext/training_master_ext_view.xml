<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
	<!--
	===========================================================
		Including extended fields on TRAINING COURSE
	===========================================================
	-->
		<!-- FORM -->
		<record model="ir.ui.view" id="training_form_view_inh">
			<field name="name">training.form.view.inh</field>
			<field name="model">training.course</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="training.training_course_form" />
			<field name="arch" type="xml">
				<data>
					<notebook position="inside">
						<page string="Información Adicional">
							<group col="2" colspan="2">
								<separator string="Información Adicional" colspan="2"/>
								<field name="ects"/>
								<field name="boedate"/>
							</group>
						</page>
					</notebook>
				</data>
			</field>
		</record>

		<record model="ir.ui.view" id="training_course_form_view_inh1">
			<field name="name">training.course.form.inh1</field>
			<field name="model">training.course</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="training.training_course_form" />
			<field name="arch" type="xml">
                <field name="name" position="before">
                    <group colspan="8" col="8">
                        <field name="course_code"/>					    
                        <field name="product_id"/>
                        <field name="type_teaching"/>
                        <field name="credits"/>    
  				    </group>				
                </field>
                <xpath expr="//form [@string='Course']/field[@name='category_id']" position="before">
						<field name="coursenum_id"/>
						<field name="cycle"/>
						<field name ="semester"/>
				</xpath>
			</field>
		</record>
		<record model="ir.ui.view" id="training_course_form_view_inh2">
			<field name="name">training.course.form.inh2</field>
			<field name="model">training.course</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="training.training_course_form" />
			<field name="arch" type="xml">
                <xpath expr="/form/notebook/page[@string='History']" position="after">	
				   <page string="Offers">
					   <field name="offer_ids" colspan="4" nolabel="1" >
							<tree string="Offers">
								<field name="offer_id"/>
								<field name="category_id"/>
								<field name="tipology"/>
								<field name="kind"/>
								<field name="course_type_id"/>
								<field name="lang_id"/>
								<field name="duration" widget='float_time'/>
								<field name="sequence" invisible="1"/>
							</tree>
							<form string="Offer">
								<separator string="Offer Information" colspan="4"/>
								<field name="offer_id"/>
								<field name="category_id"/>
                                <field name="tipology"/>
								<field name="kind"/>
								<field name="course_type_id"/>
								<field name="lang_id"/>
								<field name="duration" widget='float_time'/>
							</form>
						</field>
					</page>
				</xpath>
				<xpath expr="//page[@string='Lecturers']" position="replace">
					<page string="Teachers">
						<field name="teacher_ids" domain="[('type', '=', 'teacher')]" nolabel="1"/>
					</page>
				</xpath>
			</field>
		</record>

		<record model="ir.ui.view" id="training_course_form_view_inh3">
			<field name="name">training.course.form.inh3</field>
			<field name="model">training.course</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="training.training_course_form" />
			<field name="arch" type="xml">
                <xpath expr="/form/notebook/page[@string='History']" position="after">	
				   <page string="Seances">
					   <field name="seance_ids" colspan="4" nolabel="1" />
					</page>	
				</xpath>
			</field>
		</record>

		<!-- TREE -->
		<record model="ir.ui.view" id="training_course_tree_view_inh">
			<field name="name">training.course.tree.inh</field>
			<field name="model">training.course</field>
			<field name="type">tree</field>
			<field name="inherit_id" ref="training.training_course_list" />
			<field name="arch" type="xml">
                <field name="name" position="before">
                        <field name="course_code"/>					    
                        <!-- <field name="tipo_docencia"/> -->
                        <field name="semester"/>
                        <field name="cycle"/>
                        <field name="credits"/>
                </field>
			</field>
		</record>
		
		<!--
		===========================================================
		 EXTERNAL COURSE 
		===========================================================
		-->
		<!--  FORM -->
		<record model="ir.ui.view" id="training_external_course_form_view">
			<field name="name">training.external.course.form.view</field>
			<field name="model">training.external.course</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="External Course">
					<field name="course_code" />
					<field name="name" />
					<field name="university" />
				</form>
			</field>
		</record>
		
		<!--  SEARCH -->
		<record model="ir.ui.view" id="training_external_course_search_view">
			<field name="name">training.external.course.search.view</field>
			<field name="model">training.external.course</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="External Course">
					<field name="course_code" />
					<field name="name" />
					<field name="university" />
				</search>
			</field>
		</record>
		
		<!--  TREE -->
		<record model="ir.ui.view" id="training_external_course_tree_view">
			<field name="name">training.external.course.tree.view</field>
			<field name="model">training.external.course</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="External Course">
					<field name="course_code" />
					<field name="name" />
					<field name="university" />
				</tree>
			</field>
		</record>
		
		<!--
	===========================================================
	 	OFFER TYPE
	===========================================================
	-->
	
	<!-- TREE -->

		<record model="ir.ui.view" id="training_offer_type_tree_view">
			<field name="name">training.offer.type.tree.view</field>
			<field name="model">training.offer.type</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Offer Types">
					<field name="type" />
				</tree>
			</field>
		</record>
		
	<!-- FORM -->

		<record model="ir.ui.view" id="training_offer_type_form_view">
			<field name="name">training.offer.type.form.view</field>
			<field name="model">training.offer.type</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Offer Type">
					<group colspan="2" col="2">
						<field name="type" />
					</group>
					<field name="line_ids" colspan="4" nolabel="1"/>
				</form>
			</field>
		</record>
	
	<!-- SEARCH -->
		
		<record model="ir.ui.view" id="training_offer_type_search_view">
			<field name="name">training.offer.type.search.view</field>
			<field name="model">training.offer.type</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="Offer Type">
					<field name="type" />
				</search>
			</field>
		</record>
		
		<!--
	===========================================================
	 	OFFER TYPE LINE
	===========================================================
	-->
	
	<!-- TREE -->

		<record model="ir.ui.view" id="training_offer_type_line_tree_view">
			<field name="name">training.offer.type.line.tree.view</field>
			<field name="model">training.offer.type.line</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Offer Type Lines">
					<field name="call" />
					<field name="price" />
				</tree>
			</field>
		</record>
		
	<!-- FORM -->

		<record model="ir.ui.view" id="training_offer_type_line_form_view">
			<field name="name">training.offer.type.line.form.view</field>
			<field name="model">training.offer.type.line</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Offer Type Line">
					<field name="call" />
					<field name="price" />
				</form>
			</field>
		</record>
	
	<!-- SEARCH -->
		
		<record model="ir.ui.view" id="training_offer_type_line_search_view">
			<field name="name">training.offer.type.line.search.view</field>
			<field name="model">training.offer.type.line</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="Offer Type Lines">
					<field name="call" />
					<field name="price" />
				</search>
			</field>
		</record>
		
		<!--
		===========================================================
		Including extended field on COURSE OFFER
		===========================================================
		-->
		<!-- SEARCH -->
		<record model="ir.ui.view" id="training_offer_search_inh">
                <field name="name">training.offer.search.inh</field>
                <field name="model">training.offer</field>
                <field name="type">search</field>
                <field name="inherit_id" ref="training.training_offer_search"/>
                <field name="arch" type="xml">
                	<xpath expr="//field[@name='name']" position="before">
                    	<field name="offer_code" />
                    	<field name="offer_type" />
                    </xpath>
                	<field name="product_id" position="after">
                    	<field name="super_title"/>
                	</field>
                </field>
         </record>
		
		<!-- TREE -->
		<record model="ir.ui.view" id="training_offer_tree_inh">
                <field name="name">training.offer.tree.inh</field>
                <field name="model">training.offer</field>
                <field name="type">tree</field>
                <field name="inherit_id" ref="training.training_offer_tree"/>
                <field name="arch" type="xml">
                	<xpath expr="//field[@name='name']" position="before">
                    	<field name="offer_code" />
                    	<field name="offer_type" />
                    </xpath>
                	<xpath expr="//field[@name='name']" position="after">
                    	<field name="super_title" />
                    </xpath>
                </field>
        </record>
		<!-- FORM -->
		<record model="ir.ui.view" id="training_offer_form_inh">
			<field name="name">training.offer.form.inh</field>
			<field name="model">training.offer</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="training.training_offer_form" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='name']" position="before">
                	<field name="offer_code" />
                	<field name="offer_type" />
                </xpath>
                <!-- <xpath expr="//field[@name='name']" position="after">
                	<field name="school_id" />
                </xpath> -->
				<field name="is_certification" position="replace">
					<group colspan="4" col="64">
						<field name="is_certification" colspan="4"/>
						<field name="super_title" colspan="4"/>
						<field name="sub_title1" attrs="{'required': [('super_title', '=', True)], 'invisible': [('super_title', '=', False)]}" colspan="26"/>
						<field name="sub_title2" attrs="{'required': [('super_title', '=', True)], 'invisible': [('super_title', '=', False)]}" colspan="26"/>
					</group>
				</field>
				<page string="Courses" position="before">
					<page string="Matched Courses" attrs="{'invisible': [('super_title', '=', False)]}">
						<group colspan="4">
							<field name="matching_list" nolabel='1' height="250" >
								<tree string="Match Course" editable="bottom">
									<field name="course1_id" domain="[('offer_id', '=', parent.sub_title1)]"/>
									<field name="course2_id" domain="[('offer_id', '=', parent.sub_title2)]"/>
								</tree>
								<form string="Match Course">
									<field name="course1_id" domain="[('offer_id', '=', parent.sub_title1)]"/>
									<field name="course2_id" domain="[('offer_id', '=', parent.sub_title2)]"/>
								</form>
							</field>
						</group>
					</page>
					<page string="Super Price List" attrs="{'invisible': [('super_title', '=', False)]}">
						<group colspan="4">
							<field name="super_price_list" nolabel='1' height="250" />
						</group>
					</page>
				</page>
				<page string="Courses" position="attributes">
					<attribute name="attrs">{'invisible': [('super_title', '=',True)]}</attribute>
				</page>
				<page string="Courses" position="after">
					<page string="Extra Info">
						<group colspan="2">
							<group colspan="2" col="2">
								<separator string="Datos principales" colspan="2"/>
								<field name="active" />
								<field name="numhours" />
								<field name="letter" />
							</group>
							<group colspan="2" col="2">
								<separator string="Datos secundarios" colspan="2"/>
								<field name="shortname" />
								<field name="numcursos" />
								<field name="impcredito" />
								<field name="boe" />
							</group>
						</group>
						<group colspan="2" col="2">
							<separator string="Credits per subject" colspan="2"/>
							<field name="basic_cycle" />
							<field name="mandatory_cycle" />
							<field name="optional_cycle" />
							<field name="freechoice_cycle" />
							<field name="trunk_cycle" />
							<field name="degree_cycle" />
							<field name="total_cycle" />
							<button name="button_dummy" string="Recalculate" type="object"
								icon="gtk-execute" colspan="2" />
						</group>
						<group colspan="4">
							<separator string="Descripción BOE" colspan="4"/>
							<field name="textoboe" nolabel="1" />
						</group>
					</page>
					<page string="Price List" attrs="{'invisible': [('super_title', '=', True)]}">
						<group colspan="4">
							<field name="price_list" nolabel='1' height="250" />
						</group>
					</page>
				</page>
				<page string="Procurements" position="attributes">
					<attribute name="attrs">{'invisible': [('super_title','=',True)]}</attribute>
				</page>
				<page string="Pedagogical Suggestion" position="attributes">
					<attribute name="attrs">{'invisible': [('super_title','=',True)]}</attribute>
				</page>
				<page string="Themes" position="attributes">
					<attribute name="attrs">{'invisible': [('super_title','=',True)]}</attribute>
				</page>
			</field>
		</record>
		<!-- <record model="ir.ui.view" id="training_offer_form_inh2">
			<field name="name">training.offer.form.inh2</field>
			<field name="model">training.offer</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="training_multi_school.training_multi_school_offer_form" />
			<field name="arch" type="xml">
				<xpath expr="//page[@string='Schools']" position="replace">
				</xpath>
			</field>
		</record> -->
		
		
		<delete id="training_exam.offer_form_with_questionnaires" model="ir.ui.view"/>
		<delete model="ir.ui.view" id="training_invoice_split.view_training_offer_invoice_inherit_form"/>
	
	<!--
	===========================================================
	 	ACTIONS 
	===========================================================
	-->
        
        <record id="act_offer_type" model="ir.actions.act_window">
			<field name="name">Offer Type</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">training.offer.type</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
	<!--
	===========================================================
	 	MENUS 
	===========================================================
	-->

		<menuitem id="action_offer_type" name="Offer Types"
			parent="training.training_config_mi" action="act_offer_type"/>
	
	</data>
</openerp>           

