<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

	<!--
	=========================================================== 
		RECORD LINE
	===========================================================
	-->
	<!-- TREE -->
	<record model="ir.ui.view" id="training_record_line_tree_view">
		<field name="name">training.record.line.tree</field>
		<field name="model">training.record.line</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Record Lines" editable="bottom">
				<field name="date" />
				<field name="coursenum_id"/>
				<field name="name" />
				<field name="session_id" invisible='1' />
				<field name="credits" />
				<field name="tipology" />
				<field name="call" />
				<field name="type" />
				<field name="mark" on_change="onchange_mark(mark)" />
				<field name="state" />
				<field name="checkrec" />
			</tree>
		</field>
	</record>

	<!-- FORM -->
	<record model="ir.ui.view" id="training_record_line_form_view">
		<field name="name">training.record.line.form</field>
		<field name="model">training.record.line</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Record Line">
				<field name="date" />
				<field name="name" invisible="1" />
				<field name="session_id" on_change="onchange_session(session_id)" />
				<field name="credits" />
				<field name="tipology" />
				<field name="call" />
				<field name="type" />
				<field name="mark" on_change="onchange_mark(mark)" />
				<field name="state" />
				<field name="checkrec" />
			</form>
		</field>
	</record>

	<!--
	===========================================================
	 	RECORD 
	===========================================================
	-->
	<!-- TREE -->
	<record model="ir.ui.view" id="training_record_tree_view">
		<field name="name">training.record.tree</field>
		<field name="model">training.record</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Record List">
				<field name="name" />
				<field name="student_id" />
				<field name="offer_id" />
				<field name="progress_rate" widget="progressbar" />
			</tree>
		</field>
	</record>

	<!-- SEARCH  -->
	<record model="ir.ui.view" id="training_record_search_view">
		<field name="name">training.record.search</field>
		<field name="model">training.record</field>
		<field name="type">search</field>
		<field name="arch" type="xml">
			<search string="Search Record">
				<field name="name" />
				<field name="student_id" />
				<field name="offer_id" />
			</search>
		</field>
	</record>

	<!-- FORM -->
	<record model="ir.ui.view" id="training_record_form_view">
		<field name="name">training.record.form</field>
		<field name="model">training.record</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Record">
				<group colspan="4">
					<field name="name" />
					<field name="student_id" />
					<field name="offer_id" on_change="onchange_offer(offer_id)" />
				</group>
				<notebook colspan="4">
					<page string="General Information">
						<field name="record_line_ids" nolabel="1" />
					</page>
					<page string="Sessions">
						<field name="edition_ids" nolabel="1"
							domain="[('offer_id', '=', offer_id)]" />
					</page>
					<page string="Cicle">
						<group colspan="2" col="2">
							<separator string="Credits per subject" colspan="2"/>
							<field name="basic_cycle"/>
							<field name="mandatory_cycle"/>
							<field name="trunk_cycle"/>
							<field name="optional_cycle"/>
							<field name="degree_cycle"/>
							<field name="total_cycle"/>
						</group>
						<group colspan="2" col="2">
							<separator string="Current credits" colspan="2"/>
							<field name="curr_basic" nolabel="1"/>
							<label string="" />
							<field name="curr_mandatory" nolabel="1"/>
							<label string="" />
							<field name="curr_trunk" nolabel="1"/>
							<label string="" />
							<field name="curr_optional" nolabel="1"/>
							<label string="" />
							<field name="curr_degree" nolabel="1"/>
							<label string="" />
							<field name="curr_total" nolabel="1"/>
						</group>
						<group colspan="4">
							<button name="button_dummy" string="Recalculate" type="object" icon="gtk-execute"/>
							<field name="progress_rate" widget="progressbar" />
						</group>
					</page>
					<page string="Notes">
						<field name="note" nolabel="1" />
					</page>
				</notebook>
			</form>
		</field>
	</record>

	<!-- ACTION -->
	<record id="act_training_record" model="ir.actions.act_window">
		<field name="name">Student Records</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">training.record</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
	</record>

	<!-- MENUS -->
	<menuitem id="training_record_group_menu" name="Student Records"
		parent="training.training_mi" sequence="10" />

	<menuitem id="training_record_menu" name="Student Records"
		parent="training_record_group_menu" action="act_training_record" />

	</data>
</openerp>