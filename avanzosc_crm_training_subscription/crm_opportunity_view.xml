<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		
		<record model="ir.ui.view" id="iniciativa_contacto_add_tree_view_inh">
	        <field name="name">iniciativa.contacto.add.tree.view.inh</field>
	        <field name="model">crm.lead</field>
	        <field name="type">tree</field>
	        <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
	        <field name="arch" type="xml">
	            <xpath expr="//field[@name='partner_id']" position="after">
	            	<field name='contact_id'/>
	            </xpath>
	        </field>
    	</record>
		
		<!--
		===================================================================
		CRM Opportunity Form Inheritance to add suscription creation button
		===================================================================
		-->
	    <record model="ir.ui.view" id="crm_oppor_form_view_inh2">
			<field name="name">crm.lead.oppor.form.view.inh2</field>
			<field name="model">crm.lead</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="crm.crm_case_form_view_oppor" />
			<field name="arch" type="xml">
 				<xpath expr="//field[@name='partner_id']" position="replace" >
 					<field name="partner_id" on_change="onchange_partner_id(partner_id)"/>
 				</xpath>
 				<xpath expr="//page[@string='Lead']" position="replace" >
 				</xpath>
 				<xpath expr="//field[@name='email_from']" position="replace" >
 				</xpath>
 				<xpath expr="//field[@name='phone']" position="replace" >
 				</xpath>
 				<xpath expr="//page[@string='Opportunity']" position="before" >
 					<page string="Lead">
	                    <group colspan="2" col="4">
	                        <separator colspan="4" string="Contact"/>
	                        <group colspan="4" col="12">
			            		<field name='contact_surname' on_change="onchange_contact(contact_name,contact_surname,contact_surname2)" colspan="4" required="1"/>
				            	<field name='contact_surname2' on_change="onchange_contact(contact_name,contact_surname,contact_surname2)" colspan="4" required="1"/>
				            	<field name='contact_name' on_change="onchange_contact(contact_name,contact_surname,contact_surname2)" colspan="4" required="1"/>
		            			<field name='study_center' colspan="4"/>
				           		<field name='average_mark' colspan="4"/>
				           		<field name='study_city' colspan="4"/>
	            			</group>
	                        <separator string="Payer data" colspan="4" col="4"/>
	                        <field name='contact_resum'/>
	                        <field name="partner_name" string="Customer Name" colspan="4"/>
	                        <newline/>
	                        <field domain="[('domain', '=', 'contact')]" name="title" widget="selection"/>
	                        <field name="function"/>
	                        <field name="street" colspan="4"/>
	                        <field name="street2" colspan="4"/>
	                        <field name="zip"/>
	                        <field name="city"/>
	                        <field name="country_id"/>
	                        <field name="state_id"/>
	                    </group>
	                    <group colspan="2" col="2">
	                        <separator string="Communication" colspan="2"/>
	                        <field name="fax"/>
	                        <field name="mobile"/>
	                        <field name='phone'/>
	            			<field name='email_from'/>
	            			<field name='tuenti'/>
		           			<field name='facebook'/>
		           			<field name='twitter'/>
	                    </group>
	                    <group colspan="2" col="2">
	                        <separator string="Categorization" colspan="2"/>
	                        <field name="type_id" widget="selection" groups="base.group_extended"/>
	                        <field name="channel_id" widget="selection"/>
	                    </group>
	                    <group colspan="2" col="2">
	                        <separator string="Mailings" colspan="2"/>
	                        <field name="optin"/>
	                        <field name="optout"/>
	                    </group>
                	</page>
 				</xpath>
				<xpath expr="//form/notebook/page[@string='Opportunity']" position="after" >
					<page string="Offers Information">
						<!-- <notebook colspan="4">
						<page string="Choose 1">
							<field name="offer_ids" nolabel="1" colspan="4"/>
						</page>
						<page string="Choose 2">
                            <field name="favorite_offer1" colspan="4"/>
                            <field name="favorite_offer2" colspan="4"/>
                            <field name="favorite_offer3" colspan="4"/>
                            <field name="favorite_offer4" colspan="4"/>
                            <field name="favorite_offer5" colspan="4"/>
						</page> -->
						<field name="favorite_offers" colspan="4" nolabel="1"/>
						<!-- </notebook> -->
					</page>
				</xpath>
			</field>
		</record>
		
		<record model="ir.ui.view" id="crm_oppor_form_view_inh3">
			<field name="name">crm.lead.oppor.form.view.inh3</field>
			<field name="model">crm.lead</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="base_contact_crm.base_contact_crm_lead_form_view_oppor" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='contact_id']" position="after" >
					<group col="8" colspan="8">
						<separator string="Subscriptions" colspan="8"/> 
						<field name="offer_id"/>
						<button string="Convert to Subscription" icon="gtk-go-forward" name="%(opport_to_subscription_act)d" type="action"/>
						<separator colspan="8"/>
						<field name="subscription_id"/>
						<!--
						<separator string="Informacion de Offers" colspan="8" col="4"/>
						<field name="offer_ids" nolabel="1" colspan="4"/>
						-->
					</group>
				</xpath>
			</field>
		</record>
		
		<!--
	===========================================================
	 	FAVORITE OFFER
	===========================================================
	-->
	
	<!-- TREE -->

		<record model="ir.ui.view" id="training_favorite_offer_tree_view">
			<field name="name">training.favorite.offer.tree.view</field>
			<field name="model">training.favorite.offer</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Favorite Offers">
					<!-- <field name="crm_lead_id" /> -->
					<field name="sequence" />
					<field name="offer_name" />
					<!-- <field name="offer_id" /> -->
				</tree>
			</field>
		</record>
		
	<!-- FORM -->

		<record model="ir.ui.view" id="training_favorite_offer_form_view">
			<field name="name">training.favorite.offer.form.view</field>
			<field name="model">training.favorite.offer</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Favorite Offer">
					<!-- <field name="crm_lead_id" /> -->
					<field name="sequence" />
					<field name="offer_id" on_change="onchange_offer(offer_id)"/>
					<field name="offer_name" invisible="1"/>
				</form>
			</field>
		</record>
	
	<!-- SEARCH -->
		
		<record model="ir.ui.view" id="training_favorite_offer_search_view">
			<field name="name">training.favorite.offer.search.view</field>
			<field name="model">training.favorite.offer</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="Favorite Offers">
					<!-- <field name="crm_lead_id" /> -->
					<field name="sequence" />
					<field name="offer_name" />
					<!-- <field name="offer_id" /> -->
				</search>
			</field>
		</record>
	</data>
</openerp>
