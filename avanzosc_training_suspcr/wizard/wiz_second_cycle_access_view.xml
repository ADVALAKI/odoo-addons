<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
	<!-- 
	===================================================================================================================
	WIZ.TRAINING.FEE (SECOND CYCLE WIZARD)
	===================================================================================================================
	 -->

		<record model="ir.ui.view" id="wiz_training_fee_second_cycle_master_form_view">
			<field name="name">wiz.training.fee.second.cycle.master.form</field>
			<field name="model">wiz.training.fee.second.cycle.master</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Fee">
					<field name="name" readonly="1" />
					<field name="check" />
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="wiz_training_fee_second_cycle_master_tree_view">
			<field name="name">wiz.training.fee.second.cycle.master.tree</field>
			<field name="model">wiz.training.fee.second.cycle.master</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Fee List" editable="bottom">
					<field name="name" readonly="1" />
					<field name="check" />
				</tree>
			</field>
		</record>
		
	<!-- 
	===================================================================================================================
	WIZ.TRAINING.RECOG (SECOND CYCLE WIZARD)
	===================================================================================================================
	 -->
		
		<record model="ir.ui.view" id="wiz_training_recog_second_cycle_master_form_view">
			<field name="name">wiz.training.recog.second.cycle.master.form</field>
			<field name="model">wiz.training.recog.second.cycle.master</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Recognition">
					<field name="name" readonly="1" />
					<field name="check"/>
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="wiz_training_recog_second_cycle_master_tree_view">
			<field name="name">wiz.training.recog.second.cycle.master.tree</field>
			<field name="model">wiz.training.recog.second.cycle.master</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Recognition List" editable="bottom">
					<field name="name" readonly="1" />
					<field name="check" />
				</tree>
			</field>
		</record>
		
	<!-- 
	===================================================================================================================
	WIZ.TRAINING.SUBJECT (SECOND CYCLE WIZARD)
	===================================================================================================================
	 -->
		
		<record model="ir.ui.view" id="wiz_training_subject_second_cycle_master_tree_view">
			<field name="name">wiz.training.subject.second.cycle.master.tree</field>
			<field name="model">wiz.training.subject.second.cycle.master</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Subject List" editable="bottom" >
					<field name="coursenum_id"/>
					<field name="name" readonly="1" />
					<field name="check" on_change="onchange_check(check,call)"/>
					<field name="tipology" />
					<field name="credits" />
					<field name="call" />
					<field name="duration" readonly="1" />
					<field name="teaching" on_change="onchange_teaching(teaching,call)"/>
					<field name="allowed_call_anyway"/>
				</tree>
			</field>
		</record>
		
	<!-- 
	===================================================================================================================
	WIZ.ADD.FEE (SECOND CYCLE WIZARD)
	===================================================================================================================
	 -->
	 
		<record model="ir.ui.view" id="wiz_second_cycle_access_form_view">
			<field name="name">wiz.second.cycle.access.form.view</field>
			<field name="model">wiz.second.cycle.access</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Registration">
					<group colspan="4">
						<field name="offer_id" />
						<field name="record_id" />
						<field name="session_id" />
						<field name="super_title" />
						<field name="allowed_degree_anyway" />
					</group>
					<notebook colspan="4" >
						<page string="Subjects">
							<group colspan="4">
								<field name="subject_list" nolabel="1" colspan="4" height="300" width="900"/>
							</group>
						</page>
						<page string="Charges" attrs="{'invisible': [('state', '=', 'double_step_1')]}">
							<group colspan="4">
								<field name="fee_list" nolabel="1" colspan="4" height="300" width="900"/>
							</group>
						</page>
						<page string="Recognitions" attrs="{'invisible': [('state', '=', 'double_step_1')]}">
							<group colspan="4">
								<field name="recog_list" nolabel="1" colspan="4" height="300" width="900"/>
							</group>
						</page>
					</notebook>
					<group colspan="4" col="5">
						<field name="state"/>
						<button icon='gtk-cancel' special="cancel" string="Cancel" />
						<button name="insert_charge" icon='gtk-ok' type="object"
							string="Ok" attrs="{'invisible': [('state', '=', 'double_step_1')]}"/>
						<button name="next_charge" icon='gtk-ok' type="object"
							string="Next" attrs="{'invisible': [('state', 'in', ('simple','double_step_2'))]}"/>
					</group>
				</form>
			</field>
		</record>

		<record id="act_wiz_second_cycle_access" model="ir.actions.act_window">
			<field name="name">act.wiz.second.cycle.access</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">wiz.second.cycle.access</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="target">new</field>
		</record>

		<act_window name="Registration" res_model="wiz.second.cycle.access"
			src_model="sale.order" view_mode="form" target="new" key2="client_action_multi"
			id="wiz_second_cycle_access" />
			
	<!-- 
	===================================================================================================================
	SALE.ORDER (SECOND CYCLE WIZARD)
	===================================================================================================================
	 -->	
	 	
		<record model="ir.ui.view" id="sale_order_training_charges_form2">
			<field name="name">sale.order.training.charges.form</field>
			<field name="model">sale.order</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="avanzosc_training_suspcr.sale_order_training_charges_form" />
			<field name="arch" type="xml">
				<xpath expr="//button[@string='Register']" position="after">
					<button name="%(act_wiz_second_cycle_access)d" string="2nd Cycle" type="action" icon="gtk-convert" colspan="1" attrs="{'invisible':[('second_cycle','=',False)]}"/>	
				</xpath>
			</field>
		</record>
	</data>
</openerp>