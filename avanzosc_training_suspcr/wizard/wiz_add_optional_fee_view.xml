<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<record model="ir.ui.view" id="wiz_training_fee_master_form_view">
			<field name="name">wiz.training.fee.master.form</field>
			<field name="model">wiz.training.fee.master</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Fee">
					<field name="name" readonly="1" />
					<field name="check" />
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="wiz_training_fee_master_tree_view">
			<field name="name">wiz.training.fee.master.tree</field>
			<field name="model">wiz.training.fee.master</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Fee List" editable="bottom">
					<field name="name" readonly="1" />
					<field name="check" />
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="wiz_training_recog_master_form_view">
			<field name="name">wiz.training.recog.master.form</field>
			<field name="model">wiz.training.recog.master</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Recognition">
					<field name="name" readonly="1" />
					<field name="check" />
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="wiz_training_recog_master_tree_view">
			<field name="name">wiz.training.recog.master.tree</field>
			<field name="model">wiz.training.recog.master</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Recognition List" editable="bottom">
					<field name="name" readonly="1" />
					<field name="check" />
				</tree>
			</field>
		</record>
		
		<record model="ir.ui.view" id="wiz_training_subject_master_tree_view">
			<field name="name">wiz.training.subject.master.tree</field>
			<field name="model">wiz.training.subject.master</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Subject List" editable="bottom" >
					<field name="coursenum_id"/>
					<field name="name" readonly="1" />
					<field name="check" on_change="onchange_check(check,call)"/>
					<field name="tipology" />
					<field name="credits" />
					<field name="call" />
					<field name="duration" readonly="1" />
					<field name="teaching" on_change="onchange_teaching(teaching,call)"/>
					<field name="convalidate" on_change="onchange_convalidate(convalidate,call)"/>
<!-- 					<field name="matching" on_change="onchange_teaching(matching,call)"/> -->
					<field name="allowed_call_anyway"/>
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="wiz_add_optional_fee_form_view">
			<field name="name">wiz.add.optional.fee.form.view</field>
			<field name="model">wiz.add.optional.fee</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Registration">
					<group colspan="4">
						<field name="offer_id" />
						<field name="record_id" />
						<field name="session_id" />
						<field name="super_title" />
						<field name="allowed_degree_anyway" />
					</group>
					<notebook colspan="4" >
						<page string="Subjects">
							<group colspan="4">
								<field name="subject_list" nolabel="1" colspan="4" height="300" width="900"/>
							</group>
						</page>
						<page string="Charges" attrs="{'invisible': [('state', '=', 'double_step_1')]}">
							<group colspan="4">
								<field name="fee_list" nolabel="1" colspan="4" />
							</group>
						</page>
						<page string="Recognitions" attrs="{'invisible': [('state', '=', 'double_step_1')]}">
							<group colspan="4">
								<field name="recog_list" nolabel="1" colspan="4" />
							</group>
						</page>
					</notebook>
					<group colspan="4" col="5">
						<field name="state"/>
						<button icon='gtk-cancel' special="cancel" string="Cancel" />
						<button name="insert_charge" icon='gtk-ok' type="object"
							string="Ok" attrs="{'invisible': [('state', '=', 'double_step_1')]}"/>
						<button name="next_charge" icon='gtk-ok' type="object"
							string="Next" attrs="{'invisible': [('state', 'in', ('simple','double_step_2'))]}"/>
					</group>
				</form>
			</field>
		</record>

		<record id="act_wiz_add_optional_fee" model="ir.actions.act_window">
			<field name="name">action.insert.optional.charge.wizard</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">wiz.add.optional.fee</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="target">new</field>
		</record>

		<act_window name="Registration" res_model="wiz.add.optional.fee"
			src_model="sale.order" view_mode="form" target="new" key2="client_action_multi"
			id="wiz_add_optional_fee" />
			
		<record model="ir.ui.view" id="sale_order_training_charges_form">
			<field name="name">sale.order.training.charges.form</field>
			<field name="model">sale.order</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="sale.view_order_form" />
			<field name="arch" type="xml">
				<field name="project_id" position="after">
					<button name="%(act_wiz_add_optional_fee)d" string="Register" type="action" icon="gtk-convert" colspan="2"/>
				</field>
			</field>
		</record>

	</data>
</openerp>