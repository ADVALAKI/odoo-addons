<?xml version="1.0"?>

<openerp>
	<data>


		<record model="ir.ui.view" id="view_product_form_expiry3">
			<field name="name">product.normal.form3</field>
			<field name="model">product.product</field>
			<field name="inherit_id" ref="product.product_normal_form_view" />
			<field name="priority">1</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<field name="uom_id" position="replace">
					<field name="uom_id"
						on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
				</field>
			</field>
		</record>


		<record model="ir.ui.view" id="view_product_form_expiry2">
			<field name="name">product.normal.form2</field>
			<field name="model">product.product</field>
			<field name="inherit_id" ref="product.product_normal_form_view" />
			<field name="priority">1</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<notebook position="inside">
					<page string="Dimensions">
						<group colspan="4">
							<group colspan="2" attrs="{'invisible':[('shape','in',['other'])]}">
								<separator colspan="2" string="Unit of purchase" />
								<field colspan="2" name="purchase_price" />
							</group>
							<group colspan="2">
								<separator colspan="2" string="Shape type" />
								<field colspan="2" name="shape" select="1" on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)"/>
							</group>
						</group>
						<group colspan="4"
							attrs="{'invisible':[('shape','in',['other'])]}">
							<separator colspan="4" string="Variables" />
							<group colspan="2">
								<separator colspan="4" string="Density" />
								<group colspan="6" col="6">
									<group colspan="2">
										<field name="density" nolabel="1"
											on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
									</group>
									<group colspan="2">
										<field name='uom_d_weight' string="Weight"
											on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
									</group>
									<group colspan="2">
										<field name='uom_d_size' string="SizeÂ³"
											on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
									</group>
								</group>
							</group>

							<group colspan="2">
								<separator colspan="4" string="Size" />
								<group colspan="2">
									<group colspan="4"
										attrs="{'invisible':[('shape','in',['cylindrical','other'])]}">
										<field name="size_x"
											on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
									</group>
									<group colspan="4"
										attrs="{'invisible':[('shape','in',['cylindrical','other'])]}">
										<field name="size_y"
											on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
									</group>
									<group colspan="4" attrs="{'invisible':[('shape','in',['other'])]}">
										<field name="size_z"
											on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
									</group>
									<group colspan="4"
										attrs="{'invisible':[('shape','in',['quadrangular','other'])]}">
										<field name="diameter"
											on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
									</group>
								<group colspan="4">
									<field name="uom_s_size" string="Size"
										on_change="compute_weight(uom_d_weight,uom_id,uom_d_size,uom_s_size,size_x, size_y, size_z, shape, density, diameter)" />
								</group>

								</group>

							</group>
						</group>

					</page>
				</notebook>
			</field>
		</record>

		<record id="view_production_lot_form2" model="ir.ui.view">
			<field name="name">stock.production.lot.form2</field>
			<field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.view_production_lot_form" />
			<field name="type">form</field>
			<field name="arch" type="xml">
				<notebook position="inside">
					<page string="Dimensions">
						<group colspan="4">
							<field name="shape" select="1"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />

							<field name="density"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>

						<group colspan="4">
							<group attrs="{'invisible':[('shape','in',['cylindrical','other'])]}">
								<field name="size_x"
									on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
								<field name="size_y"
									on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
							</group>

							<group attrs="{'invisible':[('shape','in',['quadrangular','other'])]}">
								<field name="diameter"
									on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
							</group>

							<group attrs="{'invisible':[('shape','in',['other'])]}">
								<field name="size_z"
									on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
							</group>
						</group>
						<group colspan="4" attrs="{'invisible':[('shape','in',['other'])]}">
							<field name="weight" />
						</group>
						<button colspan="4" name="generate_serial" string="Generate serial"
							type="object" />
						<field colspan="4" name="revisions" nolabel="1" />
					</page>
				</notebook>
			</field>
		</record>


		<record id="mrp_production_product_form_view2" model="ir.ui.view">
			<field name="name">mrp.production.product.line.form</field>
			<field name="model">mrp.production.product.line</field>
			<field name="priority">15</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Scheduled Products">
					<field name="name" />
					<field name="product_id" on_change="onchange_product_id(product_id)"
						select="1" />
					<field name="product_qty" />
					<field name="product_uom" />
					<field name="product_uos_qty" />
					<field name="product_uos" />
					<group colspan="4">
						<field name="shape" select="1"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />

						<field name="density"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
					</group>

					<group colspan="4">
						<group attrs="{'invisible':[('shape','in',['cylindrical','other'])]}">
							<field name="size_x"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
							<field name="size_y"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>

						<group attrs="{'invisible':[('shape','in',['quadrangular','other'])]}">
							<field name="diameter"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>

						<group attrs="{'invisible':[('shape','in',['other'])]}">
							<field name="size_z"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>


					</group>
					<group colspan="4" attrs="{'invisible':[('shape','in',['other'])]}">
						<field name="weight" />

					</group>
				</form>
			</field>
		</record>



		<record id="mrp_production_product_tree_view2" model="ir.ui.view">
			<field name="name">mrp.production.product.line.tree</field>
			<field name="model">mrp.production.product.line</field>
			<field name="priority">10</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Scheduled Products">
					<field name="product_id" />
					<field name="product_qty" />
					<field name="product_uom" />
					<field name="product_uos_qty" />
					<field name="product_uos" />
					<field name="density" />
					<field name="shape" />
					<field name="diameter" />
					<field name="size_x" />
					<field name="size_y" />
					<field name="size_z" />
					<field name="weight" />
				</tree>
			</field>
		</record>

		<record id="mrp_bom_form_view" model="ir.ui.view">
			<field name="name">mrp.bom.form</field>
			<field name="model">mrp.bom</field>
			<field name="type">form</field>
			<field name="priority">10</field>
			<field name="arch" type="xml">
				<form string="Bill of Material">
					<field name="product_id" on_change="onchange_product_id(product_id, name,False)"
						select="1" />
					<newline />
					<field name="product_uom" />
					<field name="product_qty" />
					<field name="name" select="1" />
					<field name="code" select="1" />
					<newline />
					<field name="product_uos" groups="product.group_uos" />
					<field name="product_uos_qty" groups="product.group_uos" />
					<field name="routing_id" select="2" groups="base.group_extended" />
					<field name="type" groups="base.group_extended" />
					<group colspan="4">
						<field name="shape" select="1"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />

						<field name="density"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />

					</group>

					<group colspan="4">
						<group attrs="{'invisible':[('shape','in',['cylindrical','other'])]}">
							<field name="size_x"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
							<field name="size_y"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>

						<group attrs="{'invisible':[('shape','in',['quadrangular','other'])]}">
							<field name="diameter"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>

						<group attrs="{'invisible':[('shape','in',['other'])]}">
							<field name="size_z"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>


					</group>
					<group colspan="4" attrs="{'invisible':[('shape','in',['other'])]}">
						<field name="weight" />

					</group>

					<notebook colspan="4">
						<page string="General Information">
							<field colspan="4" name="bom_lines" nolabel="1" widget="one2many_list" />

						</page>
						<page string="Revisions" groups="base.group_extended">
							<field colspan="4" name="revision_ids" nolabel="1"
								widget="one2many_list" />
						</page>
						<page string="Properties">
							<field name="position" select="2" />
							<field name="active" select="2" />
							<field name="sequence" />
							<field name="bom_id" />

							<field name="date_start" select="2" />
							<field name="date_stop" select="2" />
							<field name="product_rounding" />
							<field name="product_efficiency" />
							<field colspan="4" name="property_ids" nolabel="2"
								groups="base.group_extended" />
						</page>
					</notebook>
				</form>
			</field>
		</record>

		<record id="mrp_bom_tree_view2" model="ir.ui.view">
			<field name="name">mrp.bom.tree2</field>
			<field name="model">mrp.bom</field>
			<field name="type">tree</field>
			<field name="inherit_id" ref="mrp.mrp_bom_tree_view" />
			<field name="field_parent">child_complete_ids</field>
			<field name="arch" type="xml">
				<field name="product_uom" position="after">
					<field name="density" />
					<field name="shape" />
					<field name="diameter" />
					<field name="size_x" />
					<field name="size_y" />
					<field name="size_z" />
					<field name="weight" />
				</field>
			</field>
		</record>


		<record id="purchase_order_line_form2" model="ir.ui.view">
			<field name="name">purchase.order.line.form2</field>
			<field name="model">purchase.order.line</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="purchase.purchase_order_line_form" />
			<field name="arch" type="xml">
				<xpath expr="/form/notebook/page/group" position="after">
<!-- 				<page string="Order Line" position="inside"> -->
 					<field name="production_id" />
					<field name="purchase_price" attrs="{'invisible':[('shape','in',['other'])]}"/>
					<newline />
					<group colspan="4">
						<field name="shape" select="1"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						<field name="density" attrs="{'invisible':[('shape','in',['other'])]}"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
					</group>
					<group colspan="4">
						<group attrs="{'invisible':[('shape','in',['cylindrical','other'])]}">
							<field name="size_x"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
							<field name="size_y"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>

						<group attrs="{'invisible':[('shape','in',['quadrangular','other'])]}">
							<field name="diameter"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>

						<group attrs="{'invisible':[('shape','in',['other'])]}">
							<field name="size_z"
								on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						</group>
					</group>
					<group colspan="4" attrs="{'invisible':[('shape','in',['other'])]}">
						<field name="weight" />
					</group>
<!-- 				</page> -->
				</xpath>
			</field>
		</record>


		<record id="purchase_order_form2" model="ir.ui.view">
			<field name="name">purchase.order.form2</field>
			<field name="model">purchase.order</field>
			<field name="inherit_id" ref="purchase.purchase_order_form" />
			<field name="type">form</field>
			<field name="arch" type="xml">
<!-- 					<field name="order_line" position="replace"> -->
<!-- 				<field colspan="4" mode="tree,form" name="order_line" -->
<!-- 					nolabel="1"> -->
<!-- 					<tree colors="red:date_planned&lt;=current_date" string="Purchase Order Lines"> -->
						<xpath expr="/form/notebook/page/field[@name='order_line']/tree/field[@name='name']" position="after">
							<field name="product_id" />
						</xpath>
						<xpath expr="/form/notebook/page/field[@name='order_line']/tree/field[@name='product_qty']" position="after">
							<field name="density" />
							<field name="shape" />
							<field name="diameter" />
							<field name="size_x" />
							<field name="size_y" />
							<field name="size_z" />
							<field name="weight" />
						</xpath>
			</field>
		</record>

        <record model="ir.ui.view" id="view_order_form_inh_dim">
        <field name="name">sale.order.form.inh.dim</field>
        <field name="model">sale.order</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
           <xpath expr="/form/notebook/page/field[@name='order_line']/form/notebook/page/field[@name='product_id']" position="after">
				<group colspan="4">
					<field name="shape" select="1"
						on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />

					<field name="density" attrs="{'invisible':[('shape','in',['other'])]}"
						on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
					<field name="sale_price" attrs="{'invisible':[('shape','in',['other'])]}"/>
				</group>

				<group colspan="4">
					<group attrs="{'invisible':[('shape','in',['cylindrical','other'])]}">
						<field name="size_x"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
						<field name="size_y"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
					</group>

					<group attrs="{'invisible':[('shape','in',['quadrangular','other'])]}">
						<field name="diameter"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
					</group>

					<group attrs="{'invisible':[('shape','in',['other'])]}">
						<field name="size_z"
							on_change="compute_weight(product_id,size_x, size_y, size_z, shape, density, diameter)" />
					</group>


				</group>
				<group colspan="4" attrs="{'invisible':[('shape','in',['other'])]}">
					<field name="weight" />
				</group>
           </xpath>
        </field>
    </record>		
    <record model="ir.ui.view" id="view_order_tree_inh_dim">
        <field name="name">sale.order.tree.inh.dim</field>
        <field name="model">sale.order</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="/form/notebook/page/field[@name='order_line']/tree/field[@name='product_uom']" position="after">
				<field name="shape" />
				<field name="diameter" />
				<field name="size_x" />
				<field name="size_y" />
				<field name="size_z" />
				<field name="weight" />
				<field name="sale_price"/>
			</xpath>
        </field>
    </record>		
		
	</data>
</openerp> 
						
